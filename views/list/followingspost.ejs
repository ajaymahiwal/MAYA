<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MAYA | All Posts</title>

    <!-- Font -->
    
    <%- include("../includes/head.ejs") %>

    <style>
      

      .btn {
        display: inline-block;
        background-color: blueviolet;
        padding: 0.7rem 2.5rem;
        font-size: 1.2rem;
        text-decoration: none;
        color: white;
        margin: 2rem 0;
      }

      .one-card {
        width: 30%;
        /* border: 2px solid red; */
        margin-bottom: 2rem;
        text-decoration: none !important;
      }
      
      .all-cards{
        padding-inline: 2rem;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
      }
      #all-cards{
        margin-top: 5rem;
      }
      @media(width<=450px){
        .all-cards{
          padding-inline: 5px;
        }
      }
      .card {
        border: none;
        width: 100%;
      }

      @media(width<=1000px){
        .one-card{
            width: 47%;
        }
      }
      @media(width<=600px){
        .one-card{
            width: 100%;
        }
      }
      .card-img-top {
        border-radius: 1rem !important;
        width: 100%;
        height: 17rem;
        object-fit: cover !important;
      }
      .card-img-overlay {
        /* border: 2px solid red; */
        background-color: white;
        opacity: 0;
        /* height: 50%; */
      }
      .card-img-overlay:hover {
        opacity: 0.3;
      }
      .card-body {
        padding-left: 1.5rem;
        /* border: 2px solid blueviolet; */
      }
      .card-title {
        width: 100%;
      }
    </style>

  </head>

  <body>
    <%-include('../includes/navbar.ejs')%> 
    <% if (successMsg && successMsg.length){ %>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <%= successMsg %>
    </div>
    <% } %>
     <% if (errorMsg && errorMsg.length){ %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <%= errorMsg %>
    </div>
    <% } %>

    <!-- <a href="/listings/new" class="btn">Create New Listing</a> -->

    <div class="all-cards" id="all-cards">
      <% for( let i = list.length-1;i>=0;i-- ) { %>
      <a href="/listings/<%= list[i]._id %>/#main-card" class="one-card">
        <div class="card col">
          <img
            class="card-img-top"
            src="<%= list[i].image.url %>"
            alt="Card image cap"
          />
          <div class="card-img-overlay"></div>
        </div>
        <div class="card-body">
          <h5 class="card-title"><%= list[i].title %></h5>
          <!-- <p class="card-text">
            &#8377; item.price.toLocaleString("en-IN") %> /night
          </p> -->
        </div>
      </a>
      <% } %>
    </div>

    <% if (list.length == 0) { %>
     <h1 class="text-center" style="color:#ff385c; min-height: 70dvh;">Now No Post Are Present, You Can Create :)</h1>
    <% } %>
    
    <%- include('../includes/footer') %>

    
  </body>
</html>
